<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de Usuario</title>
</head>
<body>

<form id="registroForm">
    <label for="username">Nombre de usuario:</label>
    <input type="text" id="username" name="username" required>
    <label for="password">Contraseña:</label>
    <input type="password" id="password" name="password" required>
    <button type="submit">Registrar</button>
</form>

<script>
document.getElementById("registroForm").addEventListener("submit", function(event) {
    event.preventDefault();
    const username = document.getElementById("username").value;
    const password = document.getElementById("password").value;
    const user = { username, password };

    const mensaje = RegistrarUsuario(user);
    alert(mensaje);
});

function RegistrarUsuario(user) {
    const users = JSON.parse(localStorage.getItem('users')) || [];
    
    if (VerificarUsuario(user.username, users)) {
        return "Usuario ya existe";
    }

    if (!VerificarContrasena(user.password)) {
        return "La contraseña debe contener al menos un número";
    }

    users.push(user);
    localStorage.setItem('users', JSON.stringify(users));
    return "Usuario registrado exitosamente";
}

function VerificarUsuario(username, users) {
    for (const user of users) {
        if (user.username === username) {
            return true;
        }
    }
    return false;
}

function VerificarContrasena(password) {
    const numberPattern = /\d/;
    return numberPattern.test(password);
}
</script>

</body>
</html>
